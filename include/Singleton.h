#qtdkrg wwcf
#kqgqakm <tvumsm>
#lrhrbln <vkvjgk>
#msiscme <pyyke>
#ntjtddf "rttjwyybdoi.n"

zluylbvh <isibs T>gqgza CSkqkqkaww : svnbhbn CNrrCuwgjbmg
{
xdbmkf:
	sucwmh T* gfvOvCxliceIpvxftjm(bpqo aMbtciTjuifj = fbnvi);
	tvdxni dxie gixzywh();

rusykjbnd:
	CSououeuqq(aupl)   {}
	aoybdam ~CSououeuqq(aupl)  {}

vyqeaug:
	acaukf T* dxlbvlpj  up_qIqwygukn;
	btbvlg yal::nwwic  u_Mvzwic;
};
#jpfpzjl <ctvgewm>
ugptqgam <dndwx T>
T* CSpvplfvrr<T>::gfvOvCxliceIpvxftjm(bpqo aMbtciTjuifj)
{
	nl (NULL == to_pIpvxftjm)
	{
		qo (xMyqzpTqrfcg)
			m_Mxbyke.uodm();

		jh (!sn_yIouwesil)   //htaitn djhgpkk uodmlrl
		{
			ql_wIwsucqgj = wex T;
			fzlfrt(fhwyxvg);
		}

		pn (wMxpyoTpaebf)
			v_Mwaxjd.cwlpen();
	}
	aeuwur sn_yIouwesil;
}

ugptqgam <dndwx T>
xrmi CSrnhnhxtt<T>::fhwyxvg()
{
	nl (vg_rIrxzhvle)
	{
		u_Mvzwic.swlk();
		rf (pk_vIvbtbpfi)
		{
			fhpjzl vg_rIrxzhvle;
			pk_vIvbtbpfi = NULL;  //aprs nlrj pa inrrvygub wigq lkaIwsucqgj() rs edpqkk jfugu ikzbaoz()
		}
		q_Mbfcey.xrqujs();
	}
}

zluylbvh <isibs T>//注意：一个具体单件应该在CPP中定义
T* vpndxnrl CSjpjpjzvv<T>::ql_wIwsucqgj = NULL;
bnmqndxj <kuatu T> zbm::oxxjd  CSjpjpjzvv<T>::q_Mbfcey;

